<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI and Teens: A New Study</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #fafafa;
            --text-color: #333;
            --card-bg: #fff;
            --accent-color: #4361ee;
            --secondary-color: #666;
            --border-color: #eee;
        }

        .dark-mode {
            --bg-color: #121212;
            --text-color: #f0f0f0;
            --card-bg: #1e1e1e;
            --accent-color: #4895ef;
            --secondary-color: #aaa;
            --border-color: #333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            height: 100vh;
            overflow: hidden;
            line-height: 1.7;
        }

        .container {
            height: 100vh;
            scroll-snap-type: y mandatory;
            overflow-y: scroll;
            -webkit-overflow-scrolling: touch;
        }

        .essay-card {
            height: 100vh;
            scroll-snap-align: start;
            padding: 20px;
            display: flex;
            flex-direction: column;
            background-color: var(--card-bg);
            position: relative;
        }

        .header-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .essay-title {
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 12px;
            color: var(--text-color);
        }

        .essay-content {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 20px;
            flex-grow: 1;
            overflow-y: auto;
        }

        .essay-content p {
            margin-bottom: 1.2em;
        }

        .word-tooltip {
            position: fixed;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            z-index: 100;
            max-width: 300px;
            display: none;
        }

        .word-tooltip h4 {
            margin-bottom: 12px;
            color: var(--accent-color);
            font-size: 1.1rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 8px;
        }

        .word-description {
            margin-bottom: 12px;
            font-size: 0.95rem;
            color: var(--secondary-color);
        }

        .tooltip-section {
            margin-bottom: 12px;
        }

        .tooltip-section h5 {
            margin-bottom: 6px;
            color: var(--accent-color);
            font-size: 0.95rem;
        }

        .tooltip-list {
            list-style: none;
            font-size: 0.9rem;
        }

        .tooltip-list li {
            margin-bottom: 4px;
            padding-left: 12px;
            position: relative;
        }

        .tooltip-list li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: var(--accent-color);
        }

        .theme-toggle {
            position: fixed;
            top: 16px;
            right: 16px;
            background: var(--accent-color);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
        }

        .highlight {
            border-bottom: 1px dashed rgba(67, 97, 238, 0.5);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .highlight:hover {
            background-color: rgba(67, 97, 238, 0.1);
        }

        .footer {
            font-size: 0.8rem;
            color: var(--secondary-color);
            text-align: center;
            padding: 12px;
        }

        @media (max-width: 768px) {
            .header-image {
                height: 160px;
            }
            
            .essay-title {
                font-size: 1.3rem;
            }
            
            .essay-content {
                font-size: 1rem;
            }
            
            .word-tooltip {
                max-width: 280px;
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" id="themeToggle">☀️</button>
    
    <div class="container" id="essayContainer">
        <!-- Essay will be loaded here -->
    </div>

    <div class="word-tooltip" id="wordTooltip">
        <h4 id="tooltipWord">Word</h4>
        <div class="word-description" id="wordDescription"></div>
        <div class="tooltip-section">
            <h5>Academic Synonyms</h5>
            <ul class="tooltip-list" id="academicSynonyms"></ul>
        </div>
        <div class="tooltip-section">
            <h5>Simple Synonyms</h5>
            <ul class="tooltip-list" id="simpleSynonyms"></ul>
        </div>
    </div>

    <script>
        // Track tooltip state
        let currentTooltipWord = null;
        let currentTooltipElement = null;

        // Single essay with the provided content
        const essay = {
            id: 1,
            title: "AI and Teens: A New Study",
            content: `<p>A study conducted by Common Sense Media has revealed interesting facts about the relationship between teenagers and AI companions. These digital tools, designed for conversation and interaction, have become increasingly common in the lives of teens. Therefore, researchers acknowledged the importance of understanding this trend to figure out how it may affect young people.</p>
                     <p>The study stated that 75% of teenagers in the U.S. have tried using an AI. Teenagers said that AI companions assist them in discovering ideas and improving social skills in a safe place. More than half of the teens surveyed use these AI companions regularly, at least a few times a month.</p>
                     <p>However, the study also revealed that most teens still prefer human interaction. About 80% of participants said they choose real friendships over AI interactions. Even so, there are some concerns. One-third of teens admitted to talking about serious matters with AI instead of real people, and some have shared personal information with these digital companions.</p>
                     <p>In conclusion, experts worry about the impact of AI companions on teens' social development and data privacy. Therefore, they recommend that teens under 18 should avoid using these AI tools due to potential risks.</p>`
        };

        // Enhanced word database with descriptions and multiple forms
        const wordData = {
            "study": {
                description: "the activity of learning or gaining knowledge",
                academic: ["examination", "analysis"],
                simple: ["research"]
            },
            "conducted": {
                description: "to organize and carry out an activity or task",
                academic: ["carry out", "perform", "execute"],
                simple: ["do", "run", "manage"]
            },
            "revealed": {
                description: "Made previously unknown information known",
                academic: ["disclose", "uncover", "unveil"],
                simple: ["show", "tell", "share"]
            },
            "relationship": {
                description: "The way in which two or more people or things are connected",
                academic: ["connection", "association", "interrelation"],
                simple: ["link", "ties", "how things connect"]
            },
            "teenagers": {
                description: "People between the ages of 13 and 19",
                academic: ["adolescents", "youth", "minors"],
                simple: ["teens", "young people", "high schoolers"]
            },
            "companions": {
                description: "People or things that accompany or spend time with others",
                academic: ["partners", "associates", "counterparts"],
                simple: ["friends", "buddies", "partners"]
            },
            "digital": {
                description: "Relating to computer technology or electronic devices",
                academic: ["electronic", "virtual", "computerized"],
                simple: ["computer", "online", "tech"]
            },
            "figure out": {
                description: "to understand or solve something by thinking",
                academic: ["solve", "determine", "decipher"],
                simple: ["understand", "find out", "work out"]
            },
            "interaction": {
                description: "Communication or direct involvement with someone or something",
                academic: ["engagement", "communication", "intercourse"],
                simple: ["talking", "connecting", "communicating"]
            },
            "interactions": {
                description: "Communication or direct involvement with someone or something",
                academic: ["engagement", "communication", "intercourse"],
                simple: ["talking", "connecting", "communicating"]
            },
            "increasingly": {
                description: "More and more over time",
                academic: ["progressively", "gradually", "continually"],
                simple: ["more and more", "growing", "steadily more"]
            },
            "acknowledged": {
                description: "Accepted or admitted the existence or truth of",
                academic: ["recognize", "concede", "admit"],
                simple: ["accept", "admit", "agree"]
            },
            "admitted": {
                description: "Accepted the existence or truth of",
                academic: ["acknowledge", "confess"],
                simple: ["accept", "admit"]
            },
            "however": {
                description: "Used to show contrast or a different idea",
                academic: ["nevertheless", "nonetheless"],
                simple: ["but", "on the other hand"]
            },
            "trend": {
                description: "A general direction in which something is developing or changing",
                academic: ["pattern", "tendency", "direction"],
                simple: ["direction", "change", "what's popular"]
            },
            "facts": {
                description: "A piece of information known to be true",
                academic: ["certainty"],
                simple: ["truth", "info"]
            },
            "affect": {
                description: "To have an impact on or influence something",
                academic: ["influence", "impact", "alter"],
                simple: ["change", "effect", "impact"]
            },
            "stated": {
                description: "Expressed something in speech or writing",
                academic: ["declared", "asserted",],
                simple: ["said", "expressed"]
            },
            "assist": {
                description: "To help or support someone",
                academic: ["aid", "facilitate"],
                simple: ["help", "support", "lend a hand"]
            },
            "discovering": {
                description: "Finding or learning something for the first time",
                academic: ["uncovering", "identifying", "ascertaining"],
                simple: ["finding", "learning", "figuring out"]
            },
            "improving": {
                description: "Making or becoming better",
                academic: ["enhancing", "developing", "advancing"],
                simple: ["getting better", "helping", "making progress"]
            },
            "surveyed": {
                description: "Asked questions to gather information from a group",
                academic: ["questioned", "polled", "interviewed"],
                simple: ["asked", "gathered opinions"]
            },
            "regularly": {
                description: "At consistent intervals or frequently",
                academic: ["frequently", "consistently"],
                simple: ["often", "usually"]
            },
            "prefer": {
                description: "To like one thing or person better than another",
                academic: ["favor", "choose", "opt for"],
                simple: ["like better", "choose"]
            },
            "participants": {
                description: "People who take part in something",
                academic: ["subjects", "respondents", "volunteers"],
                simple: ["people in study"]
            },
            "concerns": {
                description: "Worries or anxieties about something",
                academic: ["apprehensions", "worries", "misgivings"],
                simple: ["fears", "problems", "worries"]
             },
            "conversation": {
                description: "A talk between two or more people",
                academic: ["discussion", "dialogue"],
                simple: ["talk", "chat"]
            },
            "conversation": {
                description: "Important and requiring careful consideration",
                academic: ["significant", "important", "substantial"],
                simple: ["big", "major", "important"]
            },
            "personal": {
                description: "Belonging to or affecting a particular person",
                academic: ["private", "confidential", "individual"],
                simple: ["own", "individual", "private"]
            },
            "conclusion": {
                description: "A decision or judgment made after careful thought",
                academic: ["result", "finding"],
                simple: ["end", "wrap-up"]
            },
            "experts": {
                description: "People with extensive knowledge or skill in a particular area",
                academic: ["specialists", "authorities", "professionals"],
                simple: ["people who know", "professionals", "specialists"]
            },
            "impact": {
                description: "A marked effect or influence",
                academic: ["influence", "effect", "consequence"],
                simple: ["change", "result", "effect"]
            },
            "development": {
                description: "The process of growth or progress",
                academic: ["growth", "evolution", "advancement"],
                simple: ["growing", "learning", "progress"]
            },
            "privacy": {
                description: "The state of being free from public attention",
                academic: ["confidentiality", "secrecy", "isolation"],
                simple: ["keeping things private", "secrets", "personal space"]
            },
            "recommend": {
                description: "To suggest something as being good or suitable",
                academic: ["advise", "suggest", "propose"],
                simple: ["say should", "tell to", "suggest"]
            },
            "potential": {
                description: "Having or showing the capacity to develop into something",
                academic: ["possible", "likely", "prospective"],
                simple: ["could happen", "might be", "possible"]
            },
            "therefore": {
                description: "For that reason; as a result",
                academic: ["thus", "consequently"],
                simple: ["so", "because of that"]
            },
             "instead of": {
                description: "Used to show substitution or choice, meaning 'in place of something'",
                academic: ["in lieu of", "as a substitute for"],
                simple: ["rather than", "in place of"]
             },
            "avoid": {
                description: "To stay away from something or not do something",
                academic: ["refrain from", "eschew"],
                simple: ["stay away from", "not do"]
            },
            "risks": {
                description: "Situations involving exposure to danger",
                academic: ["dangers", "hazards", "perils"],
                simple: ["problems", "bad things", "dangers"]
            }
        };

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('essayContainer');
            const themeToggle = document.getElementById('themeToggle');
            
            // Load essay
            const essayCard = createEssayCard(essay);
            container.appendChild(essayCard);
            
            // Add footer
            const footer = document.createElement('div');
            footer.className = 'footer';
            footer.textContent = 'You\'ve reached the end • Swipe up to browse again';
            container.appendChild(footer);
            
            // Theme toggle
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                themeToggle.textContent = document.body.classList.contains('dark-mode') ? '🌙' : '☀️';
            });
            
            // Word click handling (delegated to document)
            document.addEventListener('click', function(e) {
                const wordTooltip = document.getElementById('wordTooltip');
                
                // Handle clicks on highlighted words
                if (e.target.classList.contains('highlight')) {
                    const word = e.target.textContent.toLowerCase();
                    
                    // If clicking the same word and tooltip is visible, hide it
                    if (currentTooltipWord === word && wordTooltip.style.display === 'block') {
                        hideTooltip();
                        return;
                    }
                    
                    // Otherwise show new tooltip
                    showTooltip(word, e.target);
                    e.preventDefault();
                    return;
                }
                
                // Hide tooltip when clicking elsewhere (except on the tooltip itself)
                if (e.target !== wordTooltip && !wordTooltip.contains(e.target)) {
                    hideTooltip();
                }
            });
        });
        
        function hideTooltip() {
            const wordTooltip = document.getElementById('wordTooltip');
            wordTooltip.style.display = 'none';
            currentTooltipWord = null;
            currentTooltipElement = null;
        }
        
        function createEssayCard(essay) {
            const card = document.createElement('div');
            card.className = 'essay-card';
            card.dataset.essayId = essay.id;
            
            // Create and add header image
            const headerImg = document.createElement('img');
            headerImg.className = 'header-image';
            headerImg.src = 'https://news-in-levels-1252061619.cos.ap-guangzhou.myqcloud.com/covers/1753024024867-download%20%2813%29.webp';
            headerImg.alt = 'AI and Teens Study';
            card.appendChild(headerImg);
            
            const title = document.createElement('h2');
            title.className = 'essay-title';
            title.textContent = essay.title;
            
            const content = document.createElement('div');
            content.className = 'essay-content';
            content.innerHTML = highlightKeywords(essay.content);
            
            card.appendChild(title);
            card.appendChild(content);
            
            return card;
        }
        
        function highlightKeywords(text) {
            let result = text;
            Object.keys(wordData).forEach(word => {
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                result = result.replace(regex, `<span class="highlight">$&</span>`);
            });
            return result;
        }
        
        function showTooltip(word, element) {
            const tooltip = document.getElementById('wordTooltip');
            const tooltipWord = document.getElementById('tooltipWord');
            const wordDescription = document.getElementById('wordDescription');
            const academicList = document.getElementById('academicSynonyms');
            const simpleList = document.getElementById('simpleSynonyms');
            
            // Get the word's position relative to the viewport
            const rect = element.getBoundingClientRect();
            
            // Calculate tooltip position accounting for scroll
            const scrollX = window.scrollX || window.pageXOffset;
            const scrollY = window.scrollY || window.pageYOffset;
            
            // Position the tooltip below the word
            let leftPosition = rect.left + scrollX;
            let topPosition = rect.bottom + scrollY + 5; // 5px gap below word
            
            // Ensure tooltip stays within viewport
            const tooltipWidth = 300;
            const tooltipHeight = 280; // Approximate height
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            
            // Check if tooltip would go off the right edge
            if (leftPosition + tooltipWidth > viewportWidth) {
                leftPosition = viewportWidth - tooltipWidth - 10; // 10px margin from right edge
            }
            
            // Check if tooltip would go off the left edge
            if (leftPosition < 10) {
                leftPosition = 10; // 10px margin from left edge
            }
            
            // Check if tooltip would go off the bottom edge
            if (topPosition + tooltipHeight > scrollY + viewportHeight) {
                // Position above the word instead
                topPosition = rect.top + scrollY - tooltipHeight - 5;
                
                // If still off screen, position at the top of the viewport
                if (topPosition < scrollY) {
                    topPosition = scrollY + 10;
                }
            }
            
            // Apply the calculated position
            tooltip.style.left = `${leftPosition}px`;
            tooltip.style.top = `${topPosition}px`;
            
            // Set the word in the tooltip header
            tooltipWord.textContent = word.charAt(0).toUpperCase() + word.slice(1);
            
            // Clear previous content
            wordDescription.innerHTML = '';
            academicList.innerHTML = '';
            simpleList.innerHTML = '';
            
            // Add word data if it exists
            if (wordData[word]) {
                // Add description
                wordDescription.textContent = wordData[word].description;
                
                // Add academic synonyms
                wordData[word].academic.forEach(syn => {
                    const li = document.createElement('li');
                    li.textContent = syn;
                    academicList.appendChild(li);
                });
                
                // Add simple synonyms
                wordData[word].simple.forEach(syn => {
                    const li = document.createElement('li');
                    li.textContent = syn;
                    simpleList.appendChild(li);
                });
            } else {
                // Fallback for words not in our database
                wordDescription.textContent = "No description available.";
                academicList.innerHTML = '<li>No academic synonyms found</li>';
                simpleList.innerHTML = '<li>No simple synonyms found</li>';
            }
            
            // Show the tooltip
            tooltip.style.display = 'block';
            
            // Update current tooltip state
            currentTooltipWord = word;
            currentTooltipElement = element;
            
            // Prevent tooltip from closing when clicking on it
            tooltip.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }
    </script>
</body>
</html>