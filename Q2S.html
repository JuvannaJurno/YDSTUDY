<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulary Starter Pack 1</title>
    <style>
        /* Your existing CSS styles remain unchanged */
        :root {
            --primary: #4285f4;
            --success: #34a853;
            --danger: #ea4335;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
            --accent: #673ab7;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: var(--dark);
            line-height: 1.6;
            padding: 15px;
            max-width: 100%;
            margin: 0 auto;
            -webkit-text-size-adjust: 100%;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 0 10px;
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 1.8rem;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e9ecef;
            border-radius: 10px;
            margin: 15px 0;
            height: 8px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .quiz-container {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .question-container {
            background-color: #f9f9ff;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid var(--accent);
        }
        
        .question {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: var(--dark);
            line-height: 1.5;
        }
        
        .question b {
            color: var(--accent);
            font-weight: 600;
            padding: 1px 3px;
            background-color: rgba(103, 58, 183, 0.1);
            border-radius: 3px;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .option-btn {
            padding: 12px 15px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background-color: white;
            color: var(--dark);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            position: relative;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        
        .option-btn:hover, .option-btn:focus {
            background-color: #f8f9fa;
            border-color: var(--primary);
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .option-btn:disabled {
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }
        
        .option-btn.correct {
            background-color: var(--success);
            color: white;
            border-color: var(--success);
        }
        
        .option-btn.incorrect {
            background-color: var(--danger);
            color: white;
            border-color: var(--danger);
        }
        
        .option-synonym {
            font-size: 0.8rem;
            color: var(--gray);
            font-style: italic;
            margin-top: 4px;
            display: none;
            line-height: 1.4;
        }
        
        .option-btn:disabled .option-synonym {
            display: block;
        }
        
        .feedback {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .correct-feedback {
            background-color: rgba(52, 168, 83, 0.1);
            border-left: 3px solid var(--success);
        }
        
        .incorrect-feedback {
            background-color: rgba(234, 67, 53, 0.1);
            border-left: 3px solid var(--danger);
        }
        
        .feedback-item {
            margin-bottom: 8px;
        }
        
        .next-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            display: block;
            margin: 20px auto 0;
            transition: all 0.2s ease;
            font-weight: 500;
            width: 100%;
            max-width: 200px;
            -webkit-tap-highlight-color: transparent;
        }
        
        .next-btn:hover, .next-btn:focus {
            background-color: #3367d6;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(66, 133, 244, 0.2);
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 1rem;
            background-color: white;
            padding: 12px 15px;
            border-radius: 8px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.03);
        }
        
        .score {
            color: var(--primary);
            font-weight: bold;
        }
        
        .words-learned {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-top: 15px;
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        .words-learned h2 {
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.5rem;
            position: relative;
            padding-bottom: 8px;
        }
        
        .words-learned h2::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 2px;
            background-color: var(--primary);
            border-radius: 2px;
        }
        
        .word-list {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .word-card {
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.2s ease;
            background-color: #fff;
            position: relative;
            overflow: hidden;
        }
        
        .word-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            background-color: var(--accent);
        }
        
        .word-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .word {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--accent);
            margin-bottom: 6px;
        }
        
        .description {
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        .synonyms {
            margin: 12px 0;
        }
        
        .synonym-type {
            font-size: 0.85rem;
            color: var(--gray);
            margin-bottom: 4px;
            display: flex;
            align-items: center;
        }
        
        .synonym-type::before {
            content: "•";
            margin-right: 6px;
            color: var(--accent);
            font-size: 1rem;
        }
        
        .synonym-list {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 10px;
        }
        
        .synonym-tag {
            background-color: rgba(66, 133, 244, 0.1);
            color: var(--primary);
            padding: 3px 8px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .easy-tag {
            background-color: rgba(52, 168, 83, 0.1);
            color: var(--success);
        }
        
        .example {
            color: var(--gray);
            font-size: 0.9rem;
            line-height: 1.4;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #f0f0f0;
        }
        
        .hidden {
            display: none;
        }
        
        /* Touch optimizations */
        @media (hover: none) {
            .option-btn:hover {
                transform: none;
                box-shadow: none;
            }
            
            .option-synonym {
                font-size: 0.75rem;
            }
            
            .next-btn {
                padding: 14px 24px;
            }
        }
        
        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.4s ease forwards;
        }
    </style>
</head>
<body>
    <header>
        <h1>Vocabulary Starter Pack 2</h1>
        <p>Test and improve your vocabulary knowledge</p>
    </header>
    
    <div class="stats">
        <div class="score">Score: <span id="score">0</span></div>
        <div>Progress: <span id="progress">0</span>/<span id="total">0</span></div>
    </div>
    
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    
    <div class="quiz-container">
        <div class="question-container">
            <div class="question" id="question"></div>
        </div>
        
        <div class="options" id="options"></div>
        
        <div class="feedback hidden" id="feedback">
            <div class="feedback-item" id="feedbackText"></div>
        </div>
        
        <button class="next-btn hidden" id="nextBtn">Next Question</button>
    </div>
    
    <div class="words-learned hidden" id="wordsLearned">
        <h2>Words You've Mastered</h2>
        <div class="word-list" id="wordList"></div>
    </div>

    <script>
        const quizData = [
            {
                word: "accurate",
                description: "correct, exact, and without any mistakes",
                synonyms: ["precise", "exact", "correct"],
                easySynonyms: ["correct", "true", "right"],
                question: "Which word means the same as <b>accurate</b> in this sentence?",
                context: "The scientist provided an <b>accurate</b> measurement of the chemical.",
                example: "Her description of the event was completely accurate.",
                options: ["correct", "wrong", "attempt", "strange"],
                optionSynonyms: {
                    "correct": "right",
                    "wrong": "incorrect",
                    "attempt": "try",
                    "strange": "weird"
                }
            },
            {
                word: "acquire",
                description: "to get or obtain something",
                synonyms: ["obtain", "gain"],
                easySynonyms: ["get", "receive", "take"],
                question: "Which word means the same as <b>acquire</b> in this sentence?",
                context: "She managed to <b>acquire</b> new skills during the internship.",
                example: "The company plans to acquire several smaller businesses this year.",
                options: ["get", "lose", "abandon", "choose"],
                optionSynonyms: {
                    "get": "obtain",
                    "lose": "misplace",
                    "abandon": "leave",
                    "choose": "pick"
                }
            },
            {
                word: "adapt",
                description: "to change or get used to different conditions",
                synonyms: ["adjust", "modify", "get used to"],
                easySynonyms: ["change", "fit", "conform"],
                question: "Which word means the same as <b>adapt</b> in this sentence?",
                context: "Animals must <b>adapt</b> to survive in harsh climates.",
                example: "It took him a while to adapt to his new school.",
                options: ["change", "stay", "ignore", "complain"],
                optionSynonyms: {
                    "change": "conform",
                    "stay": "remain",
                    "ignore": "disregard",
                    "complain": "protest"
                }
            },
            {
                word: "influence",
                description: "to have an effect on someone or something",
                synonyms: ["impact"],
                easySynonyms: ["affect", "change"],
                question: "Which word means the same as <b>influence</b> in this sentence?",
                context: "Pollution can negatively <b>influence</b> human health.",
                example: "Her teacher greatly influenced her career choice.",
                options: ["affect", "maintain", "assist", "clean"],
                optionSynonyms: {
                    "affect": "change",
                    "maintain": "keep in a certain state",
                    "assist": "help",
                    "clean": "tidy"
                }
            },
            {
                word: "aim",
                description: "to plan for a specific purpose",
                synonyms: ["purpose", "objective", "target"],
                easySynonyms: ["goal", "plan", "intention"],
                question: "Which word means the same as <b>aim</b> in this sentence?",
                context: "The main <b>aim</b> of the project is to save energy.",
                example: "My aim is to finish this report by Friday.",
                options: ["goal", "issue", "result", "brief"],
                optionSynonyms: {
                    "goal": "purpose",
                    "issue": "problem",
                    "result": "outcome",
                    "brief": "short"
                }
            },
            {
                word: "conclusion",
                description: "a decision or judgment made after careful thought",
                synonyms: ["result", "outcome", "finding"],
                easySynonyms: ["end", "ending"],
                question: "Which word means the same as <b>conclusion</b> in this sentence?",
                context: "The report reached the <b>conclusion</b> that further research is needed.",
                example: "After reviewing all evidence, the detective came to a conclusion.",
                options: ["end", "start", "middle", "issue"],
                optionSynonyms: {
                    "end": "finish",
                    "start": "beginning",
                    "middle": "center",
                    "issue": "problem"
                }
            },
            {
                word: "examine",
                description: "to analyze something carefully to understand it",
                synonyms: ["evaluate", "investigate"],
                easySynonyms: ["analyze", "check", "review"],
                question: "Which word means the same as <b>analyze</b> in this sentence?",
                context: "Scientists <b>examine</b> data to understand trends.",
                example: "We need to examine these results before making a decision.",
                options: ["analyze", "ignore", "forget", "acknowledge"],
                optionSynonyms: {
                    "analyze": "study",
                    "ignore": "disregard",
                    "forget": "not remember",
                    "acknowledge": "accept"
                }
            },
            {
                word: "experiment",
                description: "a test done to find out if an idea is correct",
                synonyms: ["trial"],
                synonyms: ["test"],
                question: "Which word means the same as <b>experiment</b> in this sentence?",
                context: "The students conducted an <b>experiment</b> on plant growth.",
                example: "The experiment proved that the hypothesis was correct.",
                options: ["test", "acknowledge", "story", "mistake"],
                optionSynonyms: {
                    "test": "trial",
                    "acknowledge": "accept",
                    "story": "tale",
                    "mistake": "error"
                }
            },
            {
                word: "apply",
                description: "to put something to use for a particular purpose",
                synonyms: ["use", "implement", "employ"],
                easySynonyms: ["use", "put into practice"],
                question: "Which word means the same as <b>apply</b> in this sentence?",
                context: "You should <b>apply</b> the new methods to solve the problem.",
                example: "You can apply this knowledge in many different situations.",
                options: ["use", "ignore", "forget", "lose"],
                optionSynonyms: {
                    "use": "utilize",
                    "ignore": "disregard",
                    "forget": "not remember",
                    "lose": "misplace"
                }
            },
            {
                word: "provide",
                description: "to give someone something they need",
                synonyms: ["offer", "supply", "furnish"],
                easySynonyms: ["give", "deliver", "offer"],
                question: "Which word means the same as <b>provide</b> in this sentence?",
                context: "The teacher <b>provides</b> extra resources to help students study.",
                example: "The hotel provides towels and toiletries for all guests.",
                options: ["give", "take", "obtain", "lose"],
                optionSynonyms: {
                    "give": "offer",
                    "take": "grab",
                    "obtain": "get",
                    "lose": "misplace"
                }
            },
            {
                word: "obstacle",
                description: "something that prevents or makes progress difficult",
                synonyms: ["hindrance", "challenge", "impediment"],
                easySynonyms: ["barrier", "difficulty", "problem", "block"],
                question: "Which word means the same as <b>obstacle</b> in this sentence?",
                context: "Financial issues were the main <b>obstacle</b> to starting the business.",
                example: "Lack of funding was the biggest obstacle to completing the project.",
                options: ["barrier", "help", "solution", "state"],
                optionSynonyms: {
                    "barrier": "difficulty",
                    "help": "assistance",
                    "solution": "answer",
                    "state": "say"
                }
            },
            {
                word: "assume",
                description: "to accept something as true without proof",
                synonyms: ["suppose", "presume", "posit"],
                easySynonyms: ["guess", "think", "believe"],
                question: "Which word means the same as <b>assume</b> in this sentence?",
                context: "We <b>assume</b> that the data is correct unless proven otherwise.",
                example: "Don't assume you know the answer without checking the facts.",
                options: ["think", "know", "prove", "deny"],
                optionSynonyms: {
                    "think": "believe",
                    "know": "be certain",
                    "prove": "demonstrate",
                    "deny": "refuse"
                }
            },
            {
                word: "figure out",
                description: "to understand or solve something by thinking",
                synonyms: ["solve", "determine", "decipher"],
                easySynonyms: ["understand", "find out", "work out"],
                question: "Which phrase means the same as <b>figure out</b> in this sentence?",
                context: "I need to <b>figure out</b> how to fix this software bug.",
                example: "It took me hours to figure out the solution to the puzzle.",
                options: ["understand", "ignore", "forget", "lose"],
                optionSynonyms: {
                    "understand": "comprehend",
                    "ignore": "disregard",
                    "forget": "not remember",
                    "lose": "misplace"
                }
            },
            {
                word: "avoid",
                description: "to stay away from someone or something",
                synonyms: ["prevent", "evade", "abstain from"],
                easySynonyms: ["stay away from", "escape", "dodge"],
                question: "Which word means the same as <b>avoid</b> in this sentence?",
                context: "He tries to <b>avoid</b> unnecessary arguments at work.",
                example: "You should avoid sugary drinks if you're watching your weight.",
                options: ["stay away from", "depend on", "seek", "like"],
                optionSynonyms: {
                    "stay away from": "avoid",
                    "depend on": "rely on",
                    "seek": "look for",
                    "like": "enjoy"
                }
            },
            {
                word: "balance",
                description: "a state where things are of equal weight or force",
                synonyms: ["equilibrium", "symmetry"],
                easySynonyms: ["stability", "fairness", "steadiness"],
                question: "Which word means the same as <b>balance</b> in this sentence?",
                context: "The gymnast kept her <b>balance</b> on the beam.",
                example: "It's important to maintain a balance between work and personal life.",
                options: ["stability", "fall", "movement", "speed"],
                optionSynonyms: {
                    "stability": "steadiness",
                    "fall": "drop",
                    "movement": "motion",
                    "speed": "velocity"
                }
            },
            {
                word: "claim",
                description: "to say that something is true even if others may not believe it",
                synonyms: ["state", "declare"],
                easySynonyms: ["say it is true", "announce", "tell"],
                question: "Which word means the same as <b>claim</b> in this sentence?",
                context: "The company <b>claims</b> that its product is environmentally friendly.",
                example: "He claims that he saw a UFO last night.",
                options: ["say it is true", "deny", "discover", "forget"],
                optionSynonyms: {
                    "say it is true": "state",
                    "deny": "refuse",
                    "discover": "find",
                    "forget": "not remember"
                }
            },
            {
                word: "study",
                description: "the activity of learning or gaining knowledge",
                synonyms: ["examination", "analysis"],
                easySynonyms: ["research"],
                question: "Which word means the same as <b>study</b> in this sentence?",
                context: "The <b>study</b> shows that students learn better with visual aids.",
                example: "She devoted hours to the study of ancient languages.",
                options: ["research", "game", "break", "mishap"],
                optionSynonyms: {
                    "research": "investigation",
                    "game": "play",
                    "break": "pause",
                    "mishap": "mistake"
                }
            },
            {
                word: "concern",
                description: "a feeling of worry about something",
                synonyms: ["issue", "matter"],
                easySynonyms: ["worry", "problem", "interest"],
                question: "Which word means the same as <b>concern</b> in this sentence?",
                context: "Environmental <b>concern</b> is growing among citizens.",
                example: "My main concern is the safety of the children.",
                options: ["worry", "answer", "solution", "happiness"],
                optionSynonyms: {
                    "worry": "concern",
                    "answer": "response",
                    "solution": "fix",
                    "happiness": "joy"
                }
            },
            {
                word: "fact",
                description: "a piece of information known to be true",
                synonyms: ["certainty"],
                easySynonyms: ["truth", "info"],
                question: "Which word means the same as <b>fact</b> in this sentence?",
                context: "It is a <b>fact</b> that water boils at 100°C.",
                example: "The article was based on facts, not opinions.",
                options: ["truth", "lie", "story", "guess"],
                optionSynonyms: {
                    "truth": "reality",
                    "lie": "falsehood",
                    "story": "tale",
                    "guess": "estimate"
                }
            },
            {
                word: "confirm",
                description: "to make sure something is correct or certain",
                synonyms: ["validate", "authenticate"],
                easySynonyms: ["verify", "approve", "check", "make sure"],
                question: "Which word means the same as <b>confirm</b> in this sentence?",
                context: "Please <b>confirm</b> your attendance by replying to this email.",
                example: "The test results confirmed the doctor's diagnosis.",
                options: ["verift", "deny", "ignore", "forget"],
                optionSynonyms: {
                    "verify": "approve",
                    "deny": "refuse",
                    "ignore": "disregard",
                    "forget": "not remember"
                }
            },
            {
                word: "fruitful",
                description: "producing good or helpful results",
                synonyms: ["beneficial","profitable", "effective"],
                easySynonyms: ["productive", "successful", "helpful"],
                question: "Which word means the same as <b>fruitful</b> in this sentence?",
                context: "The discussion was <b>fruitful</b> and led to many new ideas.",
                example: "It was a fruitful collaboration that produced important research.",
                options: ["productive", "wasteful", "empty", "sad"],
                optionSynonyms: {
                    "productive": "helpful",
                    "wasteful": "not efficient",
                    "empty": "hollow",
                    "sad": "unhappy"
                }
            },
            {
                word: "decrease",
                description: "to become smaller or less",
                synonyms: ["reduce", "diminish", "lower"],
                easySynonyms: ["go down","drop", "fall", "cut"],
                question: "Which word means the same as <b>decrease</b> in this sentence?",
                context: "Smoking can <b>decrease</b> life expectancy, and exercise can increase it.",
                example: "The company plans to decrease its carbon emissions by 50%.",
                options: ["go down", "rise", "stay", "change"],
                optionSynonyms: {
                    "go down": "fall",
                    "rise": "increase",
                    "stay": "remain",
                    "change": "alter"
                }
            },
            {
                word: "contribute",
                description: "to give something to help achieve or provide something",
                synonyms: ["add", "donate", "provide"],
                easySynonyms: ["help", "give to help", "support"],
                question: "Which word means the same as <b>contribute</b> in this sentence?",
                context: "Everyone should <b>contribute</b> to keeping the classroom clean.",
                example: "Many factors contributed to the success of the project.",
                options: ["help", "include", "hurt", "ignore"],
                optionSynonyms: {
                    "help": "assist",
                    "include": "have",
                    "hurt": "harm",
                    "ignore": "disregard"
                }
            },
            {
                word: "conduct",
                description: "to organize and carry out an activity or task",
                synonyms: ["carry out", "perform", "execute"],
                easySynonyms: ["do", "run", "manage"],
                question: "Which word means the same as <b>conduct</b> in this sentence?",
                context: "The researcher <b>conducts</b> a survey in the laboratory.",
                example: "The teacher will conduct a survey among students.",
                options: ["do", "ignore", "stop", "avoid"],
                optionSynonyms: {
                    "do": "perform",
                    "ignore": "disregard",
                    "stop": "halt",
                    "avoid": "evade"
                }
            },
            {
                word: "call off",
                description: "to cancel or stop an event or activity",
                synonyms: ["revoke", "terminate", "invalidate"],
                easySynonyms: ["stop", "end", "quit"],
                question: "Which phrase means the same as <b>call off</b> in this sentence?",
                context: "They had to <b>call off</b> the match due to heavy rain.",
                example: "They called off the search when it got too dark.",
                options: ["stop", "start", "continue", "delay"],
                optionSynonyms: {
                    "stop": "cancel",
                    "start": "begin",
                    "continue": "keep going",
                    "delay": "postpone"
                }
            }
        ];
        
        // Shuffle array function with special handling for question 10 and conduct/experiment
        function shuffleArray(array) {
            // First, find specific questions that need special ordering
            let question10 = null;
            let question23 = null;
            let conductQuestion = null;
            let experimentQuestion = null;
            let otherQuestions = [];
            
            for (let i = 0; i < array.length; i++) {
                if (array[i].word === "provide") {
                    question10 = array[i];
                } else if (array[i].word === "call off") {
                    question23 = array[i];
                } else if (array[i].word === "conduct") {
                    conductQuestion = array[i];
                } else if (array[i].word === "experiment") {
                    experimentQuestion = array[i];
                } else {
                    otherQuestions.push(array[i]);
                }
            }
            
            // Shuffle the other questions
            for (let i = otherQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [otherQuestions[i], otherQuestions[j]] = [otherQuestions[j], otherQuestions[i]];
            }
            
            // Ensure question 10 comes before question 23
            // AND ensure conduct question comes before experiment question
            let result = [];
            
            if (question10) result.push(question10);
            
            // Add conduct question before experiment question
            if (conductQuestion) result.push(conductQuestion);
            
            // Add other questions
            result = result.concat(otherQuestions);
            
            // Add experiment question after conduct
            if (experimentQuestion) result.push(experimentQuestion);
            
            if (question23) result.push(question23);
            
            return result;
        }
        
        // DOM elements
        const questionEl = document.getElementById('question');
        const optionsEl = document.getElementById('options');
        const feedbackEl = document.getElementById('feedback');
        const feedbackTextEl = document.getElementById('feedbackText');
        const nextBtn = document.getElementById('nextBtn');
        const scoreEl = document.getElementById('score');
        const progressEl = document.getElementById('progress');
        const totalEl = document.getElementById('total');
        const progressBarEl = document.getElementById('progressBar');
        const wordsLearnedEl = document.getElementById('wordsLearned');
        const wordListEl = document.getElementById('wordList');
        
        // Quiz state
        let currentQuestionIndex = 0;
        let score = 0;
        let questions = [];
        let masteredWords = [];
        let originalTotal = 0;
        
        // Initialize quiz
        function initQuiz() {
            questions = shuffleArray([...quizData]);
            originalTotal = questions.length;
            totalEl.textContent = originalTotal;
            showQuestion();
        }
        
        // Show current question
        function showQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            
            // Create example with the first simple synonym
            const exampleWithSynonym = currentQuestion.example.replace(
                new RegExp(`\\b${currentQuestion.word}\\b`, 'gi'), 
                `<b>${currentQuestion.easySynonyms[0]}</b>`
            );
            
            questionEl.innerHTML = `${currentQuestion.question}<br><br><span style="font-weight:normal">${currentQuestion.context}</span>`;
            
            // Shuffle options and include the correct answer if not already there
            let options = [...currentQuestion.options];
            if (!options.includes(currentQuestion.easySynonyms[0])) {
                options[0] = currentQuestion.easySynonyms[0];
            }
            options = shuffleArray(options);
            
            // Clear previous options
            optionsEl.innerHTML = '';
            
            // Create new option buttons
            options.forEach(option => {
                const button = document.createElement('button');
                button.classList.add('option-btn', 'fade-in');
                
                const optionText = document.createElement('div');
                optionText.textContent = option;
                
                const synonymSpan = document.createElement('div');
                synonymSpan.classList.add('option-synonym');
                if (currentQuestion.optionSynonyms && currentQuestion.optionSynonyms[option]) {
                    synonymSpan.textContent = `(${currentQuestion.optionSynonyms[option]})`;
                }
                
                button.appendChild(optionText);
                button.appendChild(synonymSpan);
                button.addEventListener('click', () => selectAnswer(option, exampleWithSynonym));
                optionsEl.appendChild(button);
            });
            
            // Reset UI for new question
            feedbackEl.classList.add('hidden');
            nextBtn.classList.add('hidden');
            progressEl.textContent = Math.min(currentQuestionIndex, originalTotal);
            progressBarEl.style.width = `${(Math.min(currentQuestionIndex, originalTotal) / originalTotal) * 100}%`;
        }
        
        // Handle answer selection
        function selectAnswer(selectedOption, exampleWithSynonym) {
            const currentQuestion = questions[currentQuestionIndex];
            const optionButtons = document.querySelectorAll('.option-btn');
            
            // Disable all buttons
            optionButtons.forEach(button => {
                button.disabled = true;
                
                // Mark correct answer
                if (button.firstChild.textContent === currentQuestion.easySynonyms[0]) {
                    button.classList.add('correct');
                }
                
                // Mark incorrect selected answer
                if (button.firstChild.textContent === selectedOption && button.firstChild.textContent !== currentQuestion.easySynonyms[0]) {
                    button.classList.add('incorrect');
                }
            });
            
            // Check if answer is correct
            const isCorrect = selectedOption === currentQuestion.easySynonyms[0];
            
            // Update score if correct
            if (isCorrect) {
                score++;
                scoreEl.textContent = score;
                
                // Add to mastered words if not already there
                if (!masteredWords.some(w => w.word === currentQuestion.word)) {
                    masteredWords.push(currentQuestion);
                }
            } else {
                // Add question back to the end of the array if answered wrong
                questions.push(currentQuestion);
            }
            
            // Show feedback
            feedbackEl.classList.remove('hidden');
            feedbackEl.classList.remove('correct-feedback', 'incorrect-feedback');
            
            if (isCorrect) {
                feedbackEl.classList.add('correct-feedback');
                // Show 1-2 synonyms for correct answer
                const synonymsToShow = currentQuestion.easySynonyms.slice(1, 3).filter(s => s !== selectedOption);
                const synonymsText = synonymsToShow.length > 0 
                    ? ` (${synonymsToShow.join(', ')})` 
                    : '';
                feedbackTextEl.innerHTML = `✅ Correct! <b>${currentQuestion.word}</b> means <b>${selectedOption}</b>${synonymsText}.<br><br>Example with synonym: ${exampleWithSynonym}`;
            } else {
                feedbackEl.classList.add('incorrect-feedback');
                feedbackTextEl.innerHTML = `❌ Incorrect. You chose <b>${selectedOption}</b> (${currentQuestion.optionSynonyms[selectedOption] || selectedOption}). The correct answer is <b>${currentQuestion.easySynonyms[0]}</b> (${currentQuestion.easySynonyms[1] || currentQuestion.easySynonyms[0]}).<br><br>Example: ${currentQuestion.example}`;
            }
            
            // Show next button
            nextBtn.classList.remove('hidden');
        }
        
        // Move to next question
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                endQuiz();
            }
        }
        
        // End quiz and show mastered words
        function endQuiz() {
            document.querySelector('.quiz-container').classList.add('hidden');
            wordsLearnedEl.classList.remove('hidden');
            
            // Display mastered words
            wordListEl.innerHTML = '';
            masteredWords.forEach(word => {
                const wordCard = document.createElement('div');
                wordCard.classList.add('word-card', 'fade-in');
                wordCard.innerHTML = `
                    <div class="word">${word.word}</div>
                    <div class="description">${word.description}</div>
                    
                    <div class="synonyms">
                        <div class="synonym-type">Academic synonyms:</div>
                        <div class="synonym-list">
                            ${word.synonyms.map(s => `<span class="synonym-tag">${s}</span>`).join('')}
                        </div>
                        
                        <div class="synonym-type">Easy synonyms:</div>
                        <div class="synonym-list">
                            ${word.easySynonyms.map(s => `<span class="synonym-tag easy-tag">${s}</span>`).join('')}
                        </div>
                    </div>
                    
                    <div class="example">${word.example}</div>
                `;
                wordListEl.appendChild(wordCard);
            });
        }
        
        // Event listeners
        nextBtn.addEventListener('click', nextQuestion);
        
        // Start the quiz
        initQuiz();
    </script>
</body>
</html>
